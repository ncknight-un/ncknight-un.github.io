{% assign without-image = nil %}
<div class="article">
  <div class="article__wrapper">

    {% if post.video %}
      <a href="{{ post.url | prepend: site.baseurl }}" class="article__media article__video">
        <video autoplay muted loop playsinline>
          <source src="{{ site.baseurl }}/images/{{ post.video }}" type="video/mp4">
        </video>
      </a>

    {% elsif post.image %}
      <a href="{{ post.url | prepend: site.baseurl }}" class="article__media article__image"
         style="background-image: url({{ site.baseurl }}/images/{{ post.image }})">
      </a>

    {% else %}
      {% assign without-image = 'article-without-image' %}
    {% endif %}

    <div class="article__content {{ without-image }}">
      {% if post.tags.size > 0 %}
        <div class="article-tags__box">
          {% for tag in post.tags %}
            <a href="{{ site.baseurl }}/tag/{{ tag | downcase | replace: " ", "-" }}" class="article__tag">{{ tag }}</a>{% unless forloop.last %} | {% endunless %}
          {% endfor %}
        </div>
      {% endif %}

      <h2 class="article__title">
        <a href="{{ post.url | prepend: site.baseurl }}">{{ post.title }}</a>
      </h2>

      <p class="article__excerpt">
        {% if post.description %}
          {{ post.description }}
        {% else %}
          {{ post.content | strip_html | truncate: 185 }}
        {% endif %}
      </p>

      <div class="article__footer">
        <div class="article__meta">
          <span class="article__date">
            <time datetime="{{ post.date | date_to_xmlschema }}">
              {{ post.date | date: "%B %-d, %Y" }}
            </time>
          </span>
        </div>
        <a href="{{ post.url | prepend: site.baseurl }}" class="read-more">Keep Reading <i class="ion ion-ios-arrow-forward"></i></a>
      </div>
    </div>

  </div>
</div>
